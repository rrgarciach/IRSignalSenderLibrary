#ifndef IRSignalSender_h
#define IRSignalSender_h

#include "Arduino.h"

class IRSignalSender
{
	public:
		IRSignalSender(uint8_t pin);
		void sendCommand(uint8_t command);
	private:
		uint8_t _IRledPin;
		uint16_t _NumIRsignals;
		void parsePulse(uint8_t command);
		void pulseIR(long microsecs);

		 
		// Select the HVAC brand/model:
		// @TODO: This has to be selected in the instantiation
		#define HVAC_BRAND 2
		// Midea
		#if HVAC_BRAND == 1
		const uint8_t cmd_on[201] 	= {100,211,206,27,77,26,25,27,77,26,77,26,25,27,25,27,77,26,25,27,25,27,77,26,26,26,26,26,77,26,77,26,26,26,77,27,77,26,25,27,77,26,77,26,77,27,76,27,76,27,77,26,26,26,77,27,25,26,25,27,25,27,25,27,25,26,26,26,26,26,77,27,25,27,76,27,25,27,25,27,25,26,26,26,77,27,25,27,77,26,25,27,77,26,77,27,76,27,76,27,247,211,207,26,77,26,26,26,77,27,76,27,25,27,25,27,76,27,25,27,25,26,78,26,25,27,25,27,76,27,76,27,25,27,77,27,76,27,25,27,77,26,77,26,77,27,76,27,76,27,77,26,25,27,77,27,25,26,25,27,25,27,25,27,25,27,25,26,26,26,77,27,25,27,76,27,25,27,25,27,25,26,26,26,78,26,25,27,77,26,26,26,77,27,76,27,76,27,77,26,0};
		const uint8_t cmd_off[201] 	= {100,211,206,27,77,26,25,27,77,26,77,26,25,27,25,27,77,26,25,27,25,27,77,26,26,26,26,26,77,26,77,26,26,26,77,27,77,26,25,27,77,26,77,26,77,27,76,27,76,27,77,26,26,26,77,27,25,26,25,27,25,27,25,27,25,26,26,26,26,26,77,27,25,27,76,27,25,27,25,27,25,26,26,26,77,27,25,27,77,26,25,27,77,26,77,27,76,27,76,27,247,211,207,26,77,26,26,26,77,27,76,27,25,27,25,27,76,27,25,27,25,26,78,26,25,27,25,27,76,27,76,27,25,27,77,27,76,27,25,27,77,26,77,26,77,27,76,27,76,27,77,26,25,27,77,27,25,26,25,27,25,27,25,27,25,27,25,26,26,26,77,27,25,27,76,27,25,27,25,27,25,26,26,26,78,26,25,27,77,26,26,26,77,27,76,27,76,27,77,26,0};
		// Samsung TV (for testing prouposes)
		#elif HVAC_BRAND == 2
		const uint8_t cmd_on[69] 	= {34,214,211,28,78,28,78,29,78,28,25,28,25,28,26,28,25,28,26,28,78,28,78,28,78,29,25,28,25,28,26,28,25,28,25,29,25,28,78,28,25,28,26,28,25,28,26,28,25,28,25,28,79,28,25,28,78,28,79,28,78,28,78,29,78,28,78,28,0};
		const uint8_t cmd_off[69] 	= {34,214,211,28,78,28,78,29,78,28,25,28,25,28,26,28,25,28,26,28,78,28,78,28,78,29,25,28,25,28,26,28,25,28,25,29,25,28,78,28,25,28,26,28,25,28,26,28,25,28,25,28,79,28,25,28,78,28,79,28,78,28,78,29,78,28,78,28,0};
		// York
		#elif HVAC_BRAND == 3
		const uint8_t cmd_on[231] 	= {115,146,144,146,208,29,77,28,25,28,77,28,24,29,24,29,76,29,76,28,24,29,24,29,76,29,24,28,77,28,25,28,77,28,76,29,24,29,24,29,24,28,77,28,24,29,25,28,77,28,24,28,24,29,24,29,25,27,25,28,24,29,24,29,25,27,25,28,24,29,24,29,76,29,76,29,24,28,25,28,25,28,76,28,25,29,24,28,25,28,76,29,25,28,24,29,24,28,24,29,25,27,25,28,25,28,24,29,25,27,25,29,23,29,24,29,24,28,25,28,24,29,76,29,24,29,24,28,25,28,24,29,24,29,24,28,25,28,24,29,24,29,24,28,25,28,24,28,25,29,24,28,25,28,24,29,24,29,24,28,25,28,24,28,25,28,24,29,25,27,25,29,24,29,24,28,25,28,24,28,24,29,24,29,25,27,25,28,25,28,24,29,25,27,25,28,25,28,24,29,24,28,25,29,23,29,24,29,76,29,24,28,77,28,77,28,76,29,24,29,24,29,23,29,76,29,76,29,76,28,0};
		const uint8_t cmd_off[231] 	= {115,147,144,146,208,29,76,29,24,29,76,29,24,28,25,28,77,28,76,29,25,27,25,28,77,28,25,28,77,28,24,29,76,29,76,29,24,28,25,28,25,28,77,28,24,29,24,29,76,29,23,29,24,29,24,28,25,28,25,28,25,27,25,29,24,28,24,29,24,28,25,28,25,28,77,28,24,29,24,28,25,28,77,28,76,29,24,28,24,29,76,29,25,28,24,29,24,28,24,29,25,27,25,29,24,28,24,29,25,28,24,29,24,28,24,29,25,27,25,28,25,28,77,28,24,29,25,27,25,28,24,29,24,29,24,28,25,28,24,29,24,29,24,28,25,28,25,28,24,29,24,28,25,28,24,29,24,29,24,28,25,28,24,28,25,29,24,28,25,28,24,29,24,29,24,28,25,28,24,28,25,28,24,29,25,27,25,29,24,28,25,28,25,28,24,28,24,29,24,29,25,27,25,28,25,28,24,29,76,29,24,28,76,29,77,28,24,29,24,28,25,28,77,28,25,28,24,28,25,28,0};
		#endif
};

#endif